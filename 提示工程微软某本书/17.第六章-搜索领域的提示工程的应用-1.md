# 第6章 搜索领域的提示工程应用
## 6.1 新必应及其聊天体验
### 6.1.1 新必应简介
2022年夏，OpenAI向微软公司展示了当时最先进的大语言模型GPT-4。这个在通用知识储备、推理判断能力和小样本学习能力等多个方面都远超过上一代GPT的大语言模型，给微软公司高层带来深刻启发。GPT-4模型促使微软公司开始构思一个新的搜索引擎产品：将大语言模型的能力集成到必应搜索中，为用户提供更精准、更丰富、更便捷和更有趣的搜索体验。 

2023年2月，微软公司在西雅图发布新必应（New Bing）——由OpenAI大语言模型GPT-4驱动的全新搜索引擎产品。图6-1展示了新必应主界面的截图。新必应被定义为用户的“网络副驾驶”（Copilot for the Web）：它不仅保留了用户熟悉的搜索体验，还提供了一种全新的聊天对话体验，让用户可以通过多轮交互来获取更丰富的信息、解决更复杂的问题、激发更多的创意。这些在大语言模型驱动下的统一而创新的Web用户体验使得新必应在发布当日就引起了媒体和公众的广泛关注。新必应在短短一个月内又陆续推出了许多新功能，如支持聊天风格切换、增加聊天轮数和在Windows 11进行集成等，将必应每日活跃用户数快速提升至一亿。同时也引发了人们对于搜索引擎市场乃至科技巨头在大语言模型时代竞争格局变化的新一轮思考。 

**图6-1 新必应主界面** 

![image](https://github.com/user-attachments/assets/c6f14f9d-7004-4758-93aa-9697501ac201)


具体来说，大语言模型GPT-4驱动下的新必应具有以下四个特点。 

1）更精准的搜索结果：新必应保留了用户熟悉的搜索体验，并利用GPT-4在查询词理解、文档内容分析和相关性推理上的强大能力，改进了搜索结果的核心排序算法，在网页相关性方面实现了近二十年内最大的效果提升。 

2）更完整的回答：新必应从互联网各处搜集并汇总查询结果，并根据不同类型的查询快速给出答案。例如，用户搜索问答类问题“谁是美国总统”，结果页面顶部队回答案“Joe Biden”；用户搜索菜肴制作类问题“蜂巢蛋糕制作方法”，直接给出详细的原材料和制作步骤而无须翻阅更多的搜索结果；用户搜索“柯基”，在结果页面的侧边展示有关柯基的有趣知识及其精致的图片。 

3）全新的聊天体验：新必应提供了一种全新的聊天体验，让用户可以通过多轮对话来获取更多细节、更明确的答案和更有趣的想法和建议。例如，为用户规划一个详细的夏威夷旅行行程（包括预订酒店的链接），或者帮助用户研究购买哪款电视。新必应还可以列出回答中所有的引用来源，让用户能够看到它参考的网络内容的链接。 

4）更多的创意火花：新必应可以帮助用户撰写一封求职邮件，也可以帮助用户准备台上的演讲稿，甚至可以帮助用户制定一个完整的生日惊喜派对的流程。新必应借助GPT-4强大的自然语言生成能力，可以帮助用户生成任意所需内容，提供原始创意并提高生产力。 


### 6.1.2 全新的聊天体验 
互联网每天有100亿次的搜索查询，但大约有一半的查询用户可能无法得到满意的答案。原因是用户在逐渐期待搜索引擎能够更加智能，不仅能准确返回需要的信息或者网站，而且能处理更复杂的问题（如图6-2所示）。对于后者任务，一般很难直接给出一个简单的答案，因此更适合在一个多轮对话或者聊天中完成。新必应的最大亮点正是提供了这样一种全新的聊天体验，因为它结合了大语言模型和传统搜索。 

**图6-2 搜索产品形态和用户查询的关系** 

![image](https://github.com/user-attachments/assets/7c6074ef-cc4a-4143-9dc7-bf08e6766792)


如图6-3所示，用户输入了一个复杂问题：“我需要为我们9月份的纪念日制定一个旅游行程，有哪些地方是从伦敦搭乘三个小时飞机能到的”。传统的搜索引擎只能给出一系列相关网页链接，需要用户自己浏览、筛选、总结甚至多次输入关键词。而新必应的聊天模式能够直接列出多种多样的推荐方案并列出详细的理由以及所有的引用来源，同时也支持多轮对话。新必应的全新聊天体验将传统浏览网页结果列表的方式，转向了一种全新的交互式、基于多轮聊天的方式。 

![image](https://github.com/user-attachments/assets/f1acfdae-488f-4631-8d0c-1cc273eb485b)


**图6-3 新必应的聊天体验** 

下面具体介绍新必应聊天体验在多个方面具有的创新性和优势。 
#### 1. 新必应聊天体验与ChatGPT的对比 
ChatGPT是OpenAI在2022年11月推出的聊天应用。ChatGPT使用了基于GPT-3.5、GPT-4架构的大语言模型，能够通过文本形式与用户进行对话，在诸多方面的知识领域上都提供准确和丰富的回答。ChatGPT自上线以来受到了广泛的关注，仅上线五天就吸引了超过一百万的注册用户，两个月内累计用户突破一亿。 

作为同属于聊天交互式的产品，新必应聊天（BingChat）与ChatGPT相比具有以下几个显著的特点和优势。 
- BingChat可实时调用必应搜索引擎获取互联网上与用户查询相关的最新信息。用户的查询有时涉及一些近期发生或更新的事件，如表6-1所示，用户查询“OpenAI最新发布的GPT-4有哪些更惊人的能力?”。BingChat首先将查询进行接地（grounding），即利用必应搜索引擎返回当前该查询对应的前十页网页结果。然后，BingChat根据这些结果进行内容提取和总结，并生成一个简洁而完整的回复。相比之下，ChatGPT由于其训练数据集只覆盖了截至2021年9月的数据，因此无法对这个查询做出任何有效或合理的回复。 
- BingChat会在答案中标注出所引用的信息来源，方便用户进行验证和追溯。大语言模型在生成内容时可能会出现幻觉（hallucination）问题，这种幻觉影响了生成内容的可靠性和可信度。为了解决这个问题，BingChat在从必应搜索结果中提取和总结信息并生成答案时，会明确标注答案中所引用或参考的信息来源（如网站名称、文章标题等），以便用户对答案进行进一步验证或查找更多细节。 
- BingChat推出了聊天风格切换、集成图片创造器等多项功能，提升了新必应的聊天体验和多模态交互的能力。 
- BingChat只需要微软账号即可直接访问并体验最新版本的GPT-4模型，无须额外付费或申请。 

综上所述，BingChat通过将查询接地并标注信息来源，提高了生成内容的时效性和可靠性。同时通过新增功能丰富了聊天体验，实现了对话中的多模态交互。这些使得BingChat成为继ChatGPT之后又一款具有创新性和影响力的大语言模型商业化产品。 

#### 2. 聊天风格 
BingChat提供3种不同的聊天风格，用户可以根据自己的需求选择最适合的聊天方式。 


1）“精确”（precise）模式，该模式旨在给出简洁明了、侧重搜索结果的答案，适合需要快速获取信息的用户。 

**表6-1 BingChat通过实时搜索获取最新信息以及标注信息的来源**

|用户查询| BingChat | ChatGPT |
| ---- | ---- | ---- |
|OpenAI最新发布的GPT-4有哪些更惊人的能力?|你好，这是Bing。根据我从网上搜索到的信息，OpenAI最新发布的GPT-4有以下一些更惊人的能力。<br>● 它是一个大型的多模态模型，可以接受图像和文本输入，输出文本。<br>● 它具有更广泛的常识和问题解决能力，可以在各种专业和学术的基准测试中表现出人类水平的性能……|很遗憾，截至我的知识截止日期（2021年9月），OpenAI尚未正式发布GPT-4模型。目前，OpenAI最新的语言模型是GPT-3，它已经具有令人惊叹的能力，可以生成高质量的自然语言文本，包括文章、对话、诗歌、新闻报道……|
|北京明天的天气如何?|明天北京的天气预报是多云，最高温度为37摄氏度，最低温度为23摄氏度。<br>Learn More: 1. tianqi.2345.com 2. weather.com.cn|很抱歉，作为一个基于文本的AI模型，我无法提供实时的天气信息。建议您使用天气预报网站、天气应用程序或手机助手等工具来获取北京明天的天气情况。这些资源通常提供准确的天气预报信息，包括温度、降水概率、风向风速等……|
|福建舰|福建舰是中国完全自主设计建造的首艘弹射型航空母舰，采用平直通长飞行甲板，配置电磁弹射和阻拦装置，满载排水量8万余吨。<br>Learn More: 1. sohu.com 2. baike.baidu.com 3. zh.wikipedia.cn|福建舰是中国人民解放军海军的一艘导弹驱逐舰。以下是关于福建舰的一些基本信息：<br>舰级和编号：福建舰属于中国的052B型（旧称167型）导弹驱逐舰，舷号编号为167。<br>舰艇特点：福建舰是中国海军第一批引进的导弹驱逐舰之一。它具有较强的火力和防空能力，主要用于舰队防空、反舰和对海作战……| 
